(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(23),s=n.n(c),r=(n(43),n(13)),o=n(3),i=n(6),l=n(4),u=n.n(l),p=n(12),j=n(14),d=n.n(j),b={signUp:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post("https://cozydecodesign.herokuapp.com/api/user/register",e);case 3:if((a=t.sent).data.success){t.next=6;break}throw new Error(a.data.response);case 6:return n({type:"LOG_IN_USER",payload:a.data.response}),t.abrupt("return",a);case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logFromSession:function(){return function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("https://cozydecodesign.herokuapp.com/api/user/validate");case 3:if(n=e.sent,console.log(n),n.data.success){e.next=7;break}throw new Error(n.data.response);case 7:t({type:"LOG_IN_USER",payload:n.data.response}),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),t({type:"LOG_OUT"}),e.next=16,d.a.get("https://cozydecodesign.herokuapp.com/api/user/logout");case 16:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return console.log(e),function(){var t=Object(p.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post("https://cozydecodesign.herokuapp.com/api/user/login",e,{withCredentials:!0});case 3:if((a=t.sent).data.success){t.next=6;break}throw new Error(a.data.response);case 6:return n({type:"LOG_IN_USER",payload:a.data.response}),t.abrupt("return",a);case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=d.a.get("https://cozydecodesign.herokuapp.com/api/user/logout")).data.success){e.next=4;break}throw new Error(n.data.response);case 4:t({type:"LOG_OUT"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},h=b,O=n(16),g=n(0),x=function(e){var t=e.product;return console.log(t),Object(g.jsxs)("div",{className:"wrapper",children:[Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{className:"top",style:{backgroundImage:'url("'.concat(t.photo,'")')}}),Object(g.jsxs)("div",{className:"bottom",children:[Object(g.jsxs)("div",{className:"nameAndPrice",children:[Object(g.jsx)("h1",{children:t.name}),Object(g.jsxs)("p",{children:["$",t.price]})]}),Object(g.jsxs)("div",{className:"cardButtons",children:[Object(g.jsx)("i",{className:"fas fa-cart-plus fa-2x"}),Object(g.jsx)("i",{className:"fas fa-eye fa-2x"})]})]})]}),Object(g.jsx)("div",{className:"inside",children:Object(g.jsx)("div",{className:"icon",children:"SALE"})})]})},m=n(5),f={getProducts:function(){return function(){var e=Object(p.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("https://cozydecodesign.herokuapp.com/api/products",{});case 3:return a=e.sent,t({type:"GET_ALL_PRODUCTS",payload:a.data.response}),e.abrupt("return",{success:!0,res:a.data.response});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1,res:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},addProduct:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(n,a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post("https://cozydecodesign.herokuapp.com/api/product/add",Object(m.a)({},e));case 3:return(c=t.sent).data.success&&n({type:"ADD_PRODUCT",payload:c.data.respose}),t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}},v=f,y={getProducts:v.getProducts},N=Object(i.b)((function(e){return{products:e.products.products}}),y)((function(e){var t=e.products,n=e.getProducts,c=Object(a.useState)([]),s=Object(O.a)(c,2);s[0],s[1];return Object(a.useEffect)((function(){n().then((function(e){e.success||console.log(e)}))}),[]),console.log(t),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{children:"aca va algo"}),Object(g.jsx)("div",{className:"productsGallery",children:t.map((function(e){return Object(g.jsx)(x,{product:e},e._id)}))})]})})),w=n(15),k={addProduct:v.addProduct},C=Object(i.b)(null,k)((function(e){var t=Object(a.useState)({name:"",photo:"",stock:"",description:"",price:"",sale:"",category:"",subcategory:""}),n=Object(O.a)(t,2),c=n[0],s=n[1],r=[];"Bathroom"===c.category?r=["Accesories","Mirrors"]:"Kitchenware"===c.category?r=["Accesories","Glassware","Tableware"]:"Miscellaneous"===c.category&&(r=["Accesories","Home","Lighting"]);var o=function(e){s(Object(m.a)(Object(m.a)({},c),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(g.jsx)("main",{className:"main",children:Object(g.jsxs)("div",{className:"productFormContainer",children:[Object(g.jsx)("h4",{children:"New Product"}),Object(g.jsxs)("form",{className:"productForm",children:[Object(g.jsx)("input",{type:"text",onChange:o,name:"name",placeholder:"Name",autoComplete:"nope"}),Object(g.jsx)("input",{type:"file",onChange:o,name:"photo",placeholder:"Photo",autoComplete:"nope"}),Object(g.jsx)("textarea",{onChange:o,name:"description",placeholder:"Description",autoComplete:"nope"}),Object(g.jsxs)("div",{className:"price",children:[Object(g.jsx)("input",{type:"number",onChange:o,name:"stock",placeholder:"Stock",autoComplete:"nope"}),Object(g.jsx)("input",{type:"number",onChange:o,name:"price",placeholder:"Price",autoComplete:"nope"})]}),Object(g.jsxs)("div",{className:"sale",children:[Object(g.jsxs)("div",{className:"saleRadios",children:[Object(g.jsx)("p",{children:"For Sale"}),Object(g.jsx)("input",{type:"radio",id:"true",name:"forSale",value:"true",onChange:o}),Object(g.jsx)("label",{htmlFor:"true",children:"Yes"}),Object(g.jsx)("input",{type:"radio",id:"false",name:"forSale",value:"false",onChange:o}),Object(g.jsx)("label",{htmlFor:"false",children:"No"})]}),Object(g.jsx)("input",{type:"number",onChange:o,name:"discount",placeholder:"Discount",autoComplete:"nope"})]}),Object(g.jsxs)("select",{name:"category",onChange:o,placeholder:"Category",children:[Object(g.jsx)("option",{children:"Category"}),["Bathroom","Kitchenware","Miscellaneous"].map((function(e,t){return Object(g.jsx)("option",{value:e,children:e},t)}))]}),Object(g.jsxs)("select",{name:"subcategory",onChange:o,placeholder:"Subcategory",children:[Object(g.jsx)("option",{children:"Subcategory"}),r.map((function(e,t){return Object(g.jsx)("option",{value:e,children:e},t)}))]})]}),Object(g.jsx)("button",{className:"formButton",onClick:function(){e.addProduct(c).then((function(e){console.log(e)})),console.log(c)},children:"Send"})]})})})),S=n(25),P={logIn:h.logIn},E=Object(i.b)(null,P)((function(e){var t=Object(a.useState)({password:"",eMail:""}),n=Object(O.a)(t,2),c=n[0],s=n[1],o=function(e){s(Object(m.a)(Object(m.a)({},c),{},Object(w.a)({},e.target.name,e.target.value)))},i=function(e){console.log(e)},l=function(){var t=Object(p.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.values(c).some((function(e){return!e}))&&alert("Empty fields"),t.prev=1,t.next=4,e.logIn(c);case 4:if(n=t.sent,console.log(n),!n.data.success){t.next=12;break}return alert("logged in"),e.history.push("/"),t.abrupt("return",!1);case 12:console.log(n);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)("main",{className:"signin-main",children:Object(g.jsxs)("div",{className:"box",children:[Object(g.jsx)("div",{children:Object(g.jsx)("h1",{children:"Sign In"})}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("input",{type:"text",required:!0,onChange:o,name:"eMail"}),Object(g.jsx)("span",{className:"highlight"}),Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("label",{children:"Email"})]}),Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("input",{type:"password",required:!0,onChange:o,name:"password"}),Object(g.jsx)("span",{className:"highlight"}),Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("label",{children:"Password"})]}),Object(g.jsx)("button",{type:"submit",onClick:l,children:"Sign In"}),Object(g.jsx)("p",{children:"Or"}),Object(g.jsx)("div",{className:"googleButton",children:Object(g.jsx)(S.GoogleLogin,{clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",buttonText:"Sign in",onSuccess:i,onFailure:i,cookiePolicy:"single_host_origin"})})]}),Object(g.jsx)("div",{className:"footer-box",children:Object(g.jsx)(r.b,{to:"/signup",children:"You don't have an account? Sign up now!"})})]})})})),I={signUp:h.signUp},_=Object(i.b)(null,I)((function(e){var t=Object(a.useState)({firstName:"",lastName:"",password:"",eMail:"",photo:"",admin:!1,google:!1}),n=Object(O.a)(t,2),c=n[0],s=n[1],o=function(e){s(Object(m.a)(Object(m.a)({},c),{},Object(w.a)({},e.target.name,"photo"===e.target.name?e.target.files[0]:e.target.value)))},i=function(e){console.log(e)},l=function(){var t=Object(p.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=new FormData).append("firstName",c.firstName),n.append("lastName",c.lastName),n.append("password",c.password),n.append("eMail",c.eMail),n.append("photo",c.photo),n.append("admin",c.admin),n.append("google",c.google),!Object.values(c).some((function(e){return""===e}))){t.next=12;break}alert("Empty fields"),t.next=28;break;case 12:return t.prev=12,t.next=15,e.signUp(n);case 15:if(!(a=t.sent).data.success){t.next=21;break}return alert("Account created"),t.abrupt("return",!1);case 21:throw console.log(a),new Error(a.data.response);case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(12),console.log(t.t0);case 28:case"end":return t.stop()}}),t,null,[[12,25]])})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)("main",{className:"signup-main",children:Object(g.jsxs)("div",{className:"box",children:[Object(g.jsx)("h1",{children:"Sign Up"}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("input",{type:"text",required:!0,onChange:o,name:"firstName"}),Object(g.jsx)("span",{className:"highlight"}),Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("label",{children:"Firstname"})]}),Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("input",{type:"text",required:!0,onChange:o,name:"lastName"}),Object(g.jsx)("span",{className:"highlight"}),Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("label",{children:"Lastname"})]}),Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("input",{type:"password",required:!0,onChange:o,name:"password"}),Object(g.jsx)("span",{className:"highlight"}),Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("label",{children:"Password"})]}),Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("input",{type:"text",onChange:o,name:"eMail"}),Object(g.jsx)("span",{className:"highlight"}),Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("label",{children:"Email"})]}),Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("input",{type:"file",onChange:o,name:"photo"}),Object(g.jsx)("span",{className:"highlight"}),Object(g.jsx)("span",{className:"bar"}),Object(g.jsx)("label",{children:"Avatar"})]}),Object(g.jsx)("button",{type:"submit",onClick:l,children:"Sign Up"}),Object(g.jsx)("p",{children:"Or"}),Object(g.jsx)("div",{className:"googleButton",children:Object(g.jsx)(S.GoogleLogin,{clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",buttonText:"Sign up",onSuccess:i,onFailure:i,cookiePolicy:"single_host_origin"})})]}),Object(g.jsx)("div",{className:"footer-box",children:Object(g.jsx)(r.b,{to:"/signin",children:"You have an account? Sign in now!"})})]})})})),L=n(20),U=(n(69),function(){return Object(a.useEffect)((function(){window.scroll(0,0),document.title="COZY | Home"}),[]),Object(g.jsxs)("div",{className:"home",children:[Object(g.jsx)(L.Parallax,{bgImage:"/assets/home1.jpg",strength:500,renderLayer:function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("button",{style:{background:"rgba(212, 197, 191, ".concat(2*e,")"),transform:"translate(-50%,-50%)",left:"80%",top:"60%",width:90*e,height:90*e},children:"click"})})}}),Object(g.jsx)(L.Parallax,{bgImage:"/assets/home2.jpg",strength:-200,renderLayer:function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("button",{style:{background:"rgba(212, 197, 191, ".concat(2*e,")"),left:"20%",top:"50%",borderRadius:"50%",transform:"translate(-50%,-50%)",width:100*e,height:100*e},children:"click"})})}}),Object(g.jsx)(L.Parallax,{bgImage:"/assets/home5.jpg",strength:300,renderLayer:function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("button",{style:{background:"rgba(212, 197, 191, ".concat(2*e,")"),left:"80%",top:"60%",transform:"translate(-50%,-50%)",width:100*e,height:100*e},children:"click"})})}}),Object(g.jsx)(L.Parallax,{bgImage:"/assets/home4.jpg",strength:-400,renderLayer:function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("button",{style:{background:"rgba(212, 197, 191, ".concat(2*e,")"),left:"10%",top:"70%",borderRadius:"50%",transform:"translate(-50%,-50%)",width:100*e,height:100*e},children:"click"})})}})]})}),G=Object(i.b)((function(e){return{user:e.users.user}}),{})((function(e){e.user;return Object(g.jsxs)("header",{children:[Object(g.jsx)("h1",{children:"COZY"}),Object(g.jsxs)("nav",{children:[Object(g.jsx)(r.c,{exact:!0,to:"/",children:"HOME"}),Object(g.jsx)(r.c,{to:"/signin",children:"SIGN IN"}),Object(g.jsx)(r.c,{to:"/signup",children:"SIGN UP"}),Object(g.jsx)(r.c,{to:"/products",children:"STORE"})]})]})})),F={logFromSession:h.logFromSession},T=Object(i.b)((function(e){return{token:e.users.token}}),F)((function(e){var t=e.token,n=e.logFromSession;return console.log(t),Object(a.useEffect)((function(){t||n()}),[]),Object(g.jsxs)(r.a,{children:[Object(g.jsx)(G,{}),Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{exact:!0,path:"/",component:U}),Object(g.jsx)(o.b,{path:"/signin",component:E}),Object(g.jsx)(o.b,{path:"/signup",component:_}),Object(g.jsx)(o.b,{exact:!0,path:"/products",component:N}),Object(g.jsx)(o.b,{exact:!0,path:"/productform",component:C}),Object(g.jsx)(o.a,{to:"/"})]})]})})),R=n(19),A=n(38),M={token:null,firstName:null,photo:null,owner:null,admin:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN_USER":return console.log(t.payload),Object(m.a)({},t.payload);case"LOG_OUT":return M;default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],productsCategort:[]},t=arguments.length>1?arguments[1]:void 0;return"GET_ALL_PRODUCTS"===t.type?Object(m.a)(Object(m.a)({},e),{},{products:t.payload}):e},B=Object(R.b)({users:D,products:z}),q=Object(R.c)(B,Object(R.a)(A.a));s.a.render(Object(g.jsx)(i.a,{store:q,children:Object(g.jsx)(T,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.2e7f38a5.chunk.js.map